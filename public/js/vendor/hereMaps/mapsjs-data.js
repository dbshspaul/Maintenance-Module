H.util.eval("function Tk(a,b,c,d,e){e&1&&Uk(a,a,b,c,d,0);e&2&&Uk(a,a,b,c,d,1);e&4&&Uk(a,a,b,c,d,2);e&8&&Uk(a,a,b,c,d,3)}\nfunction Uk(a,b,c,d,e,f){var g=(c+1)*(c+1),h,k,l,n,p,q,s,t,v,C,R,Z=4*d,ka=c+1,wb,pa=[{Gx:0,Zu:0,fu:0,au:0,next:null}];t=1;var Ta=[\"r\",\"g\",\"b\",\"a\"][f];l=2*c+1;for(var Ka,Qc;t<l;t++)pa[t]={Gx:0,Zu:0,fu:0,au:0,next:null},pa[t-1].next=pa[t];pa[2*c].next=pa[0];R=4*(d-1);for(k=0;k<e;k++){q=k*Z;h=a[q+f];p=h*ka*(c+2)/2;l=h*ka;for(t=0;t<=c;t++)pa[t][Ta]=h;n=0;for(t=1;t<=c;t++)v=t<d?q+4*t:q+R,v=a[v+f],p+=v*(ka-t),n+=v,pa[c+t][Ta]=v;v=pa[0];Ka=pa[ka];t=q;Qc=4*ka;s=q+R;for(h=0;h<d;h++)if(b[t+f]=p/g,p-=l,C=h+\nka<d?t+Qc:s,C=a[C+f],n+=C,p+=n,l-=v[Ta],l+=Ka[Ta],n-=Ka[Ta],v[Ta]=C,v=v.next,Ka=Ka.next,t+=4,!p)for(;(wb=4*(h+ka))<Z&&0===a[q+f+wb];)h++,t+=4}q=(e-1)*Z;for(h=0;h<d;h++){a=4*h;k=b[a+f];p=k*ka*(c+2)/2;l=k*ka;for(t=0;t<=c;t++)pa[t][Ta]=k;n=0;for(t=1;t<=c;t++)v=t<e?a+t*Z:a+q,v=b[v+f],p+=v*(c-t+1),n+=v,pa[c+t][Ta]=v;v=pa[0];Ka=pa[ka];t=a;s=ka*Z;R=a+q;for(k=0;k<e;k++)if(b[t+f]=p/g,p-=l,C=k+ka<e?t+s:R,C=b[C+f],n+=C,p+=n,l-=v[Ta],l+=Ka[Ta],n-=Ka[Ta],v[Ta]=C,v=v.next,Ka=Ka.next,t+=Z,!p)for(;(wb=k+ka)<e&&0===\nb[wb*Z+f+a];)k++,t+=Z}};function Vk(a,b,c){this.pw=b=a>>b;this.Kw=Math.log(b)*Math.LOG2E;this.ku=a=document.createElement(\"CANVAS\");this.iu=a.getContext(\"2d\");this.ju=a.width=a.height=3*b;var d=document.createElement(\"canvas\"),e;a=c.Pq;var f=c.ly;b=[];var g,h,k;d.width=256;d.height=1;d=d.getContext(\"2d\");for(e in f)f.hasOwnProperty(e)&&b.push({stop:parseFloat(e),value:f[e]});f=b.length;b.sort(this.ky);0<b[0].stop&&b.unshift({stop:0,value:b[0].value});1>b[f-1].stop&&b.push({stop:1,value:b[f-1].value});f=b.length;e=d.createLinearGradient(0,\n0,256,0);for(g=0;g<f;g++)!a&&h&&(k=h.stop+(b[g].stop-h.stop)/2,e.addColorStop(k,h.value),e.addColorStop(k,b[g].value)),e.addColorStop(b[g].stop,b[g].value),h=b[g];d.fillStyle=e;d.fillRect(0,0,256,1);this.uu=d.getImageData(0,0,256,1).data;this.qw=c.Pq}Vk.prototype.ky=function(a,b){return a.stop-b.stop};Vk.prototype.zt=\"#000\";Vk.prototype.Wt=\"#080\";function Wk(a,b){this.canvas=a;this.size=b};function Xk(a,b){var c,d,e=0;if(!la(a)||Qa(a))throw new x(Xk,0,a);for(c in a)if(d=+c,e++,!(Wa(d)&&0<=d&&1>=d&&ia(a[c])))throw new x(Xk,0,a);if(2>e)throw new x(Xk,0,\"Specify at least 2 stops\");this.ly=a;this.Pq=!!b}r(\"H.data.heatmap.Colors\",Xk);var Yk=new Xk({0:\"#008\",\"0.2\":\"#0b0\",\"0.5\":\"#ff0\",\"0.7\":\"#f00\"},!0);Xk.DEFAULT=Yk;function Zk(a,b,c){this.wd=a=Id(a,0,30);this.oa=b;this.Ug=c;this.Co=[];this.Zf=[];do this.Zf[a]=[],this.Co[a]=new $k;while(a--);b===al?(this.mp=bl,this.normalize=cl):(this.mp=dl,this.normalize=el);this.Kh=1/0;this.Lj=-1/0}var fl=Math.log(0.5);function cl(a){return this.Ql?Math.round((a-this.Kh)/this.Ql*255):127}function el(a){return void 0===this.gq?127:Math.round(255*Math.pow(a,this.gq))}\nya(Zk.prototype,{ym:function(){return this.wd},Ib:function(a){var b,c,d,e,f,g;b=a.value;void 0===b&&(b=1);b>this.Lj&&(this.Lj=b,this.Ql=this.Lj-this.Kh);b<this.Kh&&(this.Kh=b,this.Ql=this.Lj-this.Kh);c=Yf.ub(a).scale(1073741823).floor();b=this.wd;d=c.x>>30-b;c=c.y>>30-b;for(f=this.mp;-1<b;)this.Zf[b][c]||(this.Zf[b][c]=[]),(e=this.Zf[b][c][d])||(e=this.Zf[b][c][d]=new f),e.Ib(a,b),g=this.Co[b],g.qr>e.bc&&(g.qr=e.bc),g.Mf<e.bc&&(g.Mf=e.bc),g.pr>e.Jb&&(g.pr=e.Jb),g.hn<e.Jb&&(g.hn=e.Jb),b--,d>>=1,c>>=\n1},xf:function(a,b,c,d){var e=1<<a,f,g;c=Hd(c,e);e=0<=b&&b<e&&(f=this.Zf[a])&&(g=f[b])&&(e=g[c])||null;!e&&d&&0<=a&&(e=this.xf(a-1,b>>1,c>>1,d));return e},qq:function(a,b,c,d,e,f){for(var g,h=[];b<=c;b++)for(g=d;g<=e;g++)h.push(this.xf(a,b,g,f));return h},rv:function(a){var b=0,c=0,d=this.xf(0,0,0,!1),e=this;if(!0===a.jm)return a.km;a.z===e.wd?a.km=a.Jb:(this.Cy(a,function(a){var g=e.sq(a),h=4-g.length;if(a.z!==e.wd){for(a=0;a<g.length;a++)b+=g[a].Jb,c++;b+=h*d.Jb;c+=h}}),a.km=b/c);a.jm=!0;return a.km},\nCy:function(a,b){for(var c=[a],d,e;0<c.length;)e=c.shift(),d=this.sq(e),b(e),c.push.apply(c,d)},sq:function(a){for(var b=[],c,d=0;1>=d;d++)for(var e=0;1>=e;e++)(c=this.xf(a.z+1,2*a.x+d,2*a.y+e,!1))&&b.push(c);return b},clear:function(){Zk.call(this,this.wd,this.oa,this.Ug)},By:function(){var a,b,c=this.Co,d=this.wd,e=0;if(this.oa===gl){a=c[this.wd].Mf;for(b=this.wd;0<=b;b--)if(c[b].Mf===a)e=b;else break;a=c[0].Mf;for(b=0;b<=e;b++)if(a===c[b].Mf)d=b;else break;e>this.Ug&&(e=this.Ug);a=Math.round(d+\n(e-d)/2);this.gq=fl/Math.log(c[a].hn)}}});function dl(){this.Jb=this.bc=this.count=0}dl.prototype.Ib=function(a,b){this.count++;this.bc+=a.value||1;this.Jb=this.bc/Math.pow(2,2*(30-b))};function bl(){this.Jb=this.bc=this.count=0;this.jm=!1}bl.prototype.Ib=function(a){a=a.value;this.bc+=void 0!==a?a:1;this.Jb=this.bc/++this.count;this.jm=!1};function $k(){this.qr=this.pr=1/0;this.Mf=this.hn=-1/0};function hl(a){a=a||{};var b=+a.sampleDepth,c=+a.coarseness,d=a.colors,e={min:a.min,max:a.max},f=a.tileSize,g=+a.dataMax;a.tileSize&&(e.tileSize=f);Q.call(this,e);e=this.min;f=this.max;this.oa=\"value\"===a.type?al:gl;this.sampleDepth_=Wa(b)?Id(Math.round(b),1,8):4;this.yp=!!a.assumeValues;this.Ug=Wa(g)?Id(Math.round(g),e,f+this.sampleDepth_):f;c=Wa(c)?Id(Math.round(c),0,3):1;if(d&&!A(d,Xk))throw new x(hl,0,\"colors\");this.qg=new Zk(f+this.sampleDepth_,this.oa,this.Ug);this.ty=new Vk(this.tileSize,c,\nd||Yk);this.Ae=w(this.Ae,this);this.te=w(this.te,this);this.yk=new zh(20,this.Ae)}u(hl,Q);r(\"H.data.heatmap.Provider\",hl);hl.prototype.sc=function(a,b,c,d,e){var f=this.yp,g,h,k;if(this.qg.xf(0,0,0,!1)){if(!f)for(g=this.qg.qq(c,b-1,b+1,a-1,a+1,!1),h=g.length;h--&&!f;)if(null!==g[h]){f=!0;break}f&&(k=this.yk.push([a,b,c,d,e],this.te))}f||d(null);return k};hl.prototype.requestInternal=hl.prototype.sc;\nfunction il(a,b,c,d){var e=document.createElement(\"canvas\"),f=a.tileSize,g=e.getContext(\"2d\"),h,k;e.width=e.height=f;h=a.ty;var l=a.qg,n=a.yp,p=a.oa;k=h.pw;var q=h.iu,s,t,v,C=p===gl?2:1,R=C;a=Math.min(a.sampleDepth_+C,h.Kw);var Z,ka,wb,pa,C=h.ju,Ta,Ka=l.ym();if(n&&p===al){for(v=-1;1>=v;v++)for(n=-1;1>=n;n++)pa=(pa=l.xf(d,c+v,b+n,!0))?l.normalize(l.rv(pa)):128,q.fillStyle=\"rgba(\"+pa+\",128,0,1)\",q.fillRect((n+1)*k,(v+1)*k,k,k);n=k-Math.floor(k/10);v=3;pa=q.getImageData(0,0,C,C);Tk(pa.data,n,C,C,v);\nq.putImageData(pa,0,0)}else q.fillStyle=n?h.Wt:h.zt,q.fillRect(0,0,C,C);for(;R<=a&&d+R<=Ka;R++){n=k>>R;v=k-n;Ta=p===gl?127+Math.floor(128/(1<<a-R)):255;pa=(1<<R)+2;s=1<<R;Z=b<<R;ka=c<<R;s=l.qq(d+R,ka-1,ka+s,Z-1,Z+s,!1);for(Z=s.length;Z--;)if(ka=Z%pa,wb=Z/pa<<0,t=s[Z])t=l.normalize(t.Jb),q.fillStyle=\"rgba(\"+t+\",\"+Ta+\",0,1)\",q.fillRect(ka*n+v,wb*n+v,n,n);pa=q;Ta=n;s=v;Z=k+2*n;n=k+2*n;ka=ka=3;wb=q.getImageData(s,v,Z,n);Tk(wb.data,Ta,Z,n,ka);pa.putImageData(wb,s,v)}b=q.getImageData(0,0,C,C);c=h.uu;d=\nh.qw;l=b.data;a=0;for(C=l.length;a<C;a+=4)p=l[a],R=l[a+1],4===c.length&&(p=0),l[a]=c[4*p],l[a+1]=c[4*p+1],l[a+2]=c[4*p+2],l[a+3]=c[4*p+3]*(d?R/255:10>R?0:1);q.putImageData(b,0,0);h=new Wk(h.ku,k);k=h.size;g.drawImage(h.canvas,k,k,k,k,0,0,f,f);return e}hl.prototype.Ae=function(a,b){a.Ka(il(this,b[0],b[1],b[2]))};hl.prototype.te=function(a,b,c){var d=a.data;a=d[3];d=d[4];c?d():a(b)};\nhl.prototype.qp=function(a,b){var c;if(!Ua(a))throw new x(this.qp,0,a);if(c=a.length){for(;c--;)this.qg.Ib(a[c]);this.qg.By();this.reload(!!b)}};hl.prototype.addData=hl.prototype.qp;hl.prototype.clear=function(){this.qg.clear();this.reload(!0)};hl.prototype.clear=hl.prototype.clear;var gl=0,al=1;function jl(){}r(\"H.data.utils.Dom\",jl);jl.prototype.fh=function(a){return/^1$|^true$/.test(this.Ca(a))};jl.prototype.getBoolean=jl.prototype.fh;jl.prototype.Ca=function(a){try{var b=\"\",c=0,d=a.childNodes,e=d.length;if(2===a.nodeType)return a.value;for(;c<e;c++)b+=d[c].nodeValue.replace(/^\\s+|\\s+$/g,\"\")}catch(f){}return b||\"\"};jl.prototype.getString=jl.prototype.Ca;jl.prototype.rm=function(a){return parseFloat(this.Ca(a))||0};jl.prototype.getFloat=jl.prototype.rm;\njl.prototype.Ur=function(a){var b=a.split(/\\s+/),c=b.length,d=!(b&&1==c),e=d?1:3,f=[],g;d||(b=a.split(\",\"),c=b.length);for(g=0;g<c;g+=e)if(a=this.Tn(d?b[g]:g+3>b.length?null:b.slice(g,g+3)))f.push(a);else return[];return f};jl.prototype.parseCoords=jl.prototype.Ur;jl.prototype.Tn=function(a){if(!a)return null;var b=a instanceof Array&&0<a.length&&4>a.length?a:a.split(\",\");a=parseFloat(b[0]);var c=parseFloat(b[1]),b=parseFloat(b[2]);return isNaN(c)||isNaN(a)?null:new Td(c,a,isNaN(b)?void 0:b)};\njl.prototype.parseCoord=jl.prototype.Tn;jl.prototype.jj=function(a){a=this.Ca(a);return/^[0-9a-fA-F]{8}$/.test(a)?\"#\"+a.substr(6,2)+a.substr(4,2)+a.substr(2,2)+a.substr(0,2):\"#000000ff\"};jl.prototype.getColor=jl.prototype.jj;function kl(){this.ow={4:function(a){return[\"#\",a.charAt(1),a.charAt(1),a.charAt(2),a.charAt(2),a.charAt(3),a.charAt(3),\"ff\"].join(\"\")},5:function(a){return[\"#\",a.charAt(1),a.charAt(1),a.charAt(2),a.charAt(2),a.charAt(3),a.charAt(3),a.charAt(4),a.charAt(4)].join(\"\")},7:function(a){return a+\"ff\"},9:function(a){return a}};this.$x={4:function(a){return[ll(a.charAt(1)),ll(a.charAt(2)),ll(a.charAt(3)),255]},5:function(a){return[ll(a.charAt(1)),ll(a.charAt(2)),ll(a.charAt(3)),ll(a.charAt(4))]},7:function(a){a=\nparseInt(a.substring(1),16);return[a>>16&255,a>>8&255,a&255,255]},9:function(a){a=parseInt(a.substring(1),16);return[a>>24&255,a>>16&255,a>>8&255,a&255]}}}r(\"H.data.utils.ColorHelper\",kl);function ll(a){a=parseInt(a,16);return(a<<4)+a}function ml(a){return 16>a?\"0\"+Math.round(a).toString(16):Math.round(a).toString(16)}\nfunction nl(a,b,c){if(!/^(#|rgb).*/.test(b))return[0,0,0,255];c||(c=\"\",\"#\"===b.charAt(0)?c=a.ow[b.length]?b:\"\":\"rgb\"===b.substr(0,3)&&(b=b.match(/\\d+(\\.\\d+)?/g),c=b.length,c=2<c&&5>c?[\"#\",ml(+b[0]),ml(+b[1]),ml(+b[2]),3<c?ml(255*+b[3]):\"ff\"].join(\"\"):\"\"),b=c);a=a.$x[b.length](b);a[3]=Math.round(a[3]/255*100)/100;return a}\nkl.prototype.et=function(a,b){var c,d=\"\";if(!/^(#|rgb).*/.test(a)){c=\"\";for(d=0;6>d;d++)c+=\"ABCDEF0123456789\".charAt(Math.floor(16*Math.random()));return c+\"ff\"}c=nl(this,a,b);for(var e=0;4>e;e++)d+=\"\"+ml(3>e?Math.floor(Math.random()*(c[e]-0+1))+0:255*c[e]);return d};kl.prototype.toRandomRGBA=kl.prototype.et;function ol(){this.Ws={}}r(\"H.data.kml.StyleContainer\",ol);ol.prototype.ol=function(a){a&&a.id&&(this.Ws[\"style_\"+a.id]=a)};ol.prototype.addStyle=ol.prototype.ol;ol.prototype.Dm=function(a,b){var c=this.Ws[\"style_\"+a];c instanceof pl&&(c=c.Ma(b));return c};ol.prototype.getStyleById=ol.prototype.Dm;function ql(a){a=a.attributes;for(var b,c=a.length;c--;)switch(b=a[c],b.name){case \"x\":this.x=parseFloat(b.value);break;case \"y\":this.y=parseFloat(b.value);break;case \"xunits\":this.td=\"fraction\"===jl.prototype.Ca(b);break;case \"yunits\":this.Mc=\"fraction\"===jl.prototype.Ca(b)}}r(\"H.data.kml.HotSpot\",ql);function rl(a){var b=a.childNodes,c,d=new jl;this.offsetX=this.offsetY=0;for(a=b.length;a--;)switch(c=b[a],c.nodeName){case \"href\":this.href=d.Ca(c)}}r(\"H.data.kml.Icon\",rl);function sl(a){if(a){a=a.childNodes;for(var b,c=a.length,d=new jl;c--;)switch(b=a[c],b.nodeName){case \"scale\":this.scale=d.rm(b);break;case \"Icon\":if(b=new rl(b))this.icon=b;break;case \"hotSpot\":this.Dq=new ql(b)}}}r(\"H.data.kml.IconStyle\",sl);function tl(a){a=a.childNodes;for(var b,c=a.length,d=new jl,e=new kl;c--;)switch(b=a[c],b.nodeName){case \"color\":this.color=d.jj(b);break;case \"colorMode\":this.tu=d.Ca(b)}\"random\"===this.tu&&(this.color=\"#\"+e.et(this.color,!1))}r(\"H.data.kml.ColorStyle\",tl);function ul(a){var b=a.childNodes,c=b.length,d=new jl;this.outline=this.fill=!0;for(this.Vi=new tl(a);c--;)switch(a=b[c],a.nodeName){case \"fill\":this.fill=d.fh(a);break;case \"outline\":this.outline=d.fh(a)}}r(\"H.data.kml.PolyStyle\",ul);function vl(a){var b=a.childNodes,c=b.length,d=new jl;for(this.Vi=new tl(a);c--;)a=b[c],\"width\"===a.nodeName&&(this.width=d.rm(a))}r(\"H.data.kml.LineStyle\",vl);function wl(a){a=a.childNodes;for(var b,c=a.length,d=new jl;c--;)switch(b=a[c],b.nodeName){case \"bgColor\":this.bgColor=d.jj(b);break;case \"textColor\":d.jj(b);break;case \"text\":this.text=d.Ca(b);break;case \"displayMode\":d.Ca(b)}}r(\"H.data.kml.BalloonStyle\",wl);function xl(a){var b=a.childNodes,c=b.length;for(this.id=a.getAttribute(\"id\");c--;)switch(a=b[c],a.nodeName){case \"IconStyle\":if(a=new sl(a))this.Gq=a;break;case \"LineStyle\":if(a=new vl(a))this.Kf=a;break;case \"PolyStyle\":if(a=new ul(a))this.as=a;break;case \"BalloonStyle\":if(a=new wl(a))this.Hi=a}}r(\"H.data.kml.Style\",xl);function yl(a,b){var c=a&&a.childNodes||[],d,e,f=new jl;if(!a||!b)throw Error(\"Node or stylesContainer is not defined\");this.visibility=!0;this.wx=a;for(e=c.length;e--;)switch(d=c[e],d.nodeName){case \"name\":this.name=f.Ca(d);break;case \"description\":this.description=f.Ca(d);break;case \"visibility\":this.visibility=f.fh(d);break;case \"open\":this.open=f.fh(d);break;case \"styleUrl\":if(this.mi=f.Ca(d))d=this.mi.substr(1),this.Su=b.Dm(d,!1);break;case \"Style\":if(d=new xl(d))this.fr=d}}\nr(\"H.data.kml.Feature\",yl);function zl(a,b){var c=a.childNodes,d,e=c.length,f=new jl;for(this.li=b;e--;)switch(d=c[e],d.nodeName){case \"key\":this.key=f.Ca(d);break;case \"styleUrl\":this.mi=f.Ca(d)}}r(\"H.data.kml.Pair\",zl);zl.prototype.Ma=function(){var a;this.mi&&(a=\"highlight\"===this.key?!0:!1,a=this.li.Dm(this.mi.substr(1),a));return a};zl.prototype.getStyle=zl.prototype.Ma;function pl(a,b){var c=a.childNodes,d,e=c.length;this.li=b;this.id=a.getAttribute(\"id\");for(this.qk=[];e--;)d=c[e],\"Pair\"===d.nodeName&&(d=new zl(d,this.li))&&this.qk.push(d)}r(\"H.data.kml.StyleMap\",pl);pl.prototype.Ma=function(a){var b=null;a=a?\"highlight\":\"normal\";for(var c=this.qk.length;c--;)this.qk[c].key===a&&(b=this.qk[c].Ma());return b};pl.prototype.getStyle=pl.prototype.Ma;function Al(a){a=a.childNodes;for(var b,c=a.length,d=null,e=new jl;c--;)b=a[c],\"coordinates\"===b.nodeName&&(d=e.Ca(b));this.$q=null;d&&(this.$q=e.Tn(d)||null)}r(\"H.data.kml.Point\",Al);Al.prototype.de=function(){return this.$q};function Bl(a){a=a.childNodes;for(var b,c=a.length,d=new jl;c--;)if(b=a[c],\"coordinates\"===b.nodeName){b=d.Ca(b);var e=[],f=new jl;try{e=f.Ur(b)}catch(g){e=[]}this.Hl=2>e.length?[]:e}}r(\"H.data.kml.Line\",Bl);Bl.prototype.de=function(){for(var a=new I,b=this.Hl?this.Hl.length:0;b--;)a.Ge(this.Hl[b]);return a};function Cl(a){a=a.childNodes;var b,c=a.length,d,e;for(this.hq=new I;c--;)if(b=a[c],\"outerBoundaryIs\"===b.nodeName)for(e=b.childNodes,b=e.length;b--;)d=e[b],\"LinearRing\"===d.nodeName&&(d=new Bl(d),this.hq=d.de())}r(\"H.data.kml.Polygon\",Cl);Cl.prototype.de=function(){return this.hq};function Dl(a,b){var c=document.createElement(\"CANVAS\");c.width=1;c.height=1;this.li=a;this.Nm={};this.Vn={};this.Mu=new N(c);this.sa=b||\"\"}Dl.prototype.create=function(a){this.rf=new yl(a,this.li);return El(this,a,null)};\nfunction El(a,b,c){var d;b=b.childNodes;for(var e=b.length,f,g={},h;e--;){d=b[e];switch(d.nodeName){case \"Point\":f=new Al(d);h=Fl(a,\"Marker\");f=new sh(f.de(),h);h.Xr&&vg(h.Xr,\"statechange\",function(b,c){return function(){var d,e,f=c.anchor,g,h;e=c.href;var v=c.scale,C={};if(this.getState()===N.prototype.Ag.READY){e=v+\"_\"+f.x+f.y+f.td+f.Mc+\"_\"+e;d=a.Nm[e];if(!d){g=f.x;h=f.y;if(d=this.fc())d={w:d.w*v,h:d.h*v},C.size=d;g=f.td&&d?d.w*g:g*v;h=f.Mc&&d?d.h*(1-h):!f.Mc&&d?d.h-h*v:h*v;C.anchor={x:g,y:h};d=\nnew N(this.rd(),C);a.Nm[e]=d;delete a.Vn[e]}b.Jd(d)}}}(f,h),!1);break;case \"LineString\":f=new Bl(d);h=Fl(a,\"Polyline\");f=new Te(f.de(),h);break;case \"LinearRing\":f=new Bl(d);h=Fl(a,\"Polyline\");f=new Te(f.de(),h);break;case \"Polygon\":f=new Cl(d);h=Fl(a,\"Polygon\");f=new Xe(f.de(),h);break;case \"MultiGeometry\":f=new M,f.multiGeometry=1,f=El(a,d,f)}f&&(a.rf.name&&(g.name=a.rf.name),a.rf.description&&(g.description=a.rf.description),h&&h.Hi&&(g.balloonStyle=h.Hi),g.kmlNode=a.rf.wx,f.setData(g),c&&c.k(f))}c&&\n(f=c);return f}\nfunction Fl(a,b){var c=a.rf,d={visibility:c.visibility},e,f,g;e=new kl;f=1;var h,k={x:0,y:0,td:!1,Mc:!1},l;g=a.qe(c.Su);c.fr&&(g=a.qe(c.fr,g));switch(b){case \"Marker\":g&&g.Gq&&(e=g.Gq,e.scale&&(f=e.scale),e.Dq&&(h=e.Dq,k={x:h.x,y:h.y,td:h.td,Mc:h.Mc}),e.icon&&e.icon.href?(c=e.icon.href,Gl.test(c)||(c=a.sa+c),e=f+\"_\"+k.x+k.y+k.td+k.Mc+\"_\"+c,l=N.prototype.Ag,h=a.Nm[e]||a.Vn[e],h||(h=new N(c),a.Vn[e]=h),h.getState()===l.LOADING?(d.icon=a.Mu,d.Xr=h,d.href=c,d.anchor=k,d.scale=f):h.getState()===l.READY&&\n(d.icon=h)):1!==f&&(h||(k={x:14,y:4,td:!1,Mc:!1}),e=a.pm(),h={w:28*f,h:36*f},f={size:new of(h.w,h.h),anchor:new F(k.td?h.w*k.x:k.x*f,k.Mc?h.h*(1-k.y):h.h-k.y*f),hitArea:new pf(3,[0*f,16*f,0*f,7*f,8*f,0*f,18*f,0*f,26*f,7*f,26*f,16*f,18*f,34*f,8*f,34*f])},d.icon=new N(e,f)));break;case \"Polyline\":d.style={};g&&g.Kf&&(f=g.Kf,d.style.strokeColor=\"rgba(\"+nl(e,f.Vi.color,!0)+\")\",0<=f.width&&(d.style.lineWidth=f.width));break;case \"Polygon\":d.style={},g&&(g.Kf&&(f=g.Kf,d.style.strokeColor=\"rgba(\"+nl(e,f.Vi.color,\n!0)+\")\",0<=f.width&&(d.style.lineWidth=f.width)),g.as&&(f=g.as,d.style.fillColor=f.fill?\"rgba(\"+nl(e,f.Vi.color,!0)+\")\":\"rgba(0,0,0,0)\",f.outline||(d.style.lineWidth=0)))}d.Hi=g.Hi;return d}Dl.prototype.qe=function(a,b){var c=b||{},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=\"object\"===typeof a[d]?this.qe(a[d],c[d]):a[d]);return c};var Gl=/^[^:\\/]+:/;Dl.prototype.pm=function(){return'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28px\" height=\"36px\"><path d=\"M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19 29.3 19 31 Z\" fill=\"#000\" fill-opacity=\".2\"/><path d=\"M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z\" fill=\"#fff\"/><path d=\"M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z\" fill=\"#18d\"/></svg>'};function Hl(a){this.url=a;this.Pg=[];this.Pc=Ja;this.Qg=w(this.Qg,this);zb.call(this)}u(Hl,E);r(\"H.data.AbstractReader\",Hl);var Il={ERROR:-1,LOADING:0,VISIT:1,READY:2};Hl.State=Il;Hl.prototype.state=Il.READY;Hl.prototype.d={Ut:\"statechange\"};Hl.prototype.xv=function(){var a;this.Pc||(this.Pc=new K,a=this.Pc.Pb(),a.Od(this.Pg));return new gg(this.Pc)};Hl.prototype.getLayer=Hl.prototype.xv;Hl.prototype.Mv=function(){return this.Pg.concat([])};Hl.prototype.getParsedObjects=Hl.prototype.Mv;\nHl.prototype.s=function(){return this.url};Hl.prototype.getUrl=Hl.prototype.s;Hl.prototype.fy=function(a){if(this.state===Il.LOADING||this.state===Il.VISIT)throw Error(\"InvalidState: state \"+this.state);this.Pg=[];this.Pc=Ja;this.url=a;return this};Hl.prototype.setUrl=Hl.prototype.fy;Hl.prototype.getState=function(){return this.state};Hl.prototype.getState=Hl.prototype.getState;Hl.prototype.g=function(a,b,c){this.state=a;this.dispatchEvent(new Jl(b||this,this.d.Ut,a,c||\"\"))};\nHl.prototype.parse=function(){var a=this;this.url!==z?(this.g(Il.LOADING),new ua(this.url,function(b,c){c?a.g(Il.ERROR,Ja,\"Error loading file\"):a.Qg(b)})):a.g(Il.ERROR,Ja,\"File url was not set\")};Hl.prototype.parse=Hl.prototype.parse;function Jl(a,b,c,d){Jl.a.constructor.call(this,b,a);this.state=c;this.message=d}u(Jl,fc);function Kl(a){var b=a?a.lastIndexOf(\"/\"):z;this.Th=[];Hl.call(this,a);0<=b&&(this.zw=a.substr(0,b)+\"/\")}u(Kl,Hl);r(\"H.data.kml.Reader\",Kl);\nKl.prototype.Qg=function(a){var b,c,d=null;if(a&&\"\"!=a.trim()){try{c=(new DOMParser).parseFromString(a,\"text/xml\")}catch(e){this.g(Il.ERROR,void 0,\"Error parsing KML document\");return}if(c.getElementsByTagName(\"parsererror\").length)this.g(Il.ERROR,void 0,\"Error parsing KML document\");else if((a=c.childNodes&&\"kml\"===c.childNodes[0].nodeName?c.childNodes[0]:void 0)&&(b=Ll(a.childNodes,\"Document\",!0)),b=b||a){c=new ol;for(var f=Ll(b.childNodes,\"Style\"),g=Ll(b.childNodes,\"StyleMap\"),h=f.length;h--;)a=\nnew xl(f[h]),c.ol(a);for(h=g.length;h--;)a=new pl(g[h],c),c.ol(a);this.my=c;this.Xw=new Dl(this.my,this.zw);a=b.childNodes;for(b=a.length;b--;)if(c=a[b],f=d,g=g=void 0,\"Placemark\"===c.nodeName?(g=this.Xw.create(c))&&this.cf(g,f):\"Folder\"===c.nodeName&&(g={group:new M,Of:c},this.cf(g.group,f),this.Th.push(g)),!b&&(c=this.Th.shift()))a=c.Of.childNodes,d=c.group,b=a.length;this.g(Il.READY)}else this.g(Il.ERROR,void 0,\"Invalid KML document\")}else this.g(Il.ERROR,void 0,\"Unable to create objects from the empty data\")};\nKl.prototype.cf=function(a,b){b?b.k(a):(this.Pc&&this.Pc.Pb().k(a),this.Pg.push(a),this.g(Il.VISIT,a))};function Ll(a,b,c){for(var d=a.length,e,f=[];d--;)e=a[d],e.nodeName===b&&f.push(e);return c?f[0]:f};function Ml(a){this.Do=a}\nMl.prototype.create=function(a,b){var c,d;switch(a.type){case \"Point\":c=new sh(Nl(a.coordinates));break;case \"LineString\":c=new Te(this.sd(a.coordinates));break;case \"Polygon\":c=new Xe(this.sd(a.coordinates[0]));break;case \"MultiPoint\":var e=c=new M;d=a.coordinates;for(var f=0,g=d.length,h;f<g;f++)h=new sh(Nl(d[f])),e.k(h);d=\"multiPoint\";break;case \"MultiLineString\":e=c=new M;d=a.coordinates;f=0;for(g=d.length;f<g;f++)h=new Te(this.sd(d[f])),e.k(h);d=\"multiLineString\";break;case \"MultiPolygon\":e=\nc=new M;d=a.coordinates;f=0;for(g=d.length;f<g;f++)h=new Xe(this.sd(d[f][0])),e.k(h);d=\"multiPolygon\";break;case \"GeometryCollection\":e=c=new M;d=a.geometries;f=0;for(g=d.length;f<g;f++)this.create(d[f],e);d=\"geometryCollection\"}c&&(e=a.properties,f={},e&&(f.properties=e),d&&(f[d]=!0),c.setData(f),this.Do(c));b&&c&&b.k(c);return c};r(\"H.data.geojson.ObjectFactory.prototype.create\",Ml.prototype.create);function Nl(a){return new Td(a[1],a[0])}\nMl.prototype.sd=function(a){for(var b=0,c=a.length,d=new I;b<c;b++)d.Ge(Nl(a[b]));return d};function Ol(a,b){this.Do=(b||{}).style||this.Mb;Hl.call(this,a)}u(Ol,Hl);r(\"H.data.geojson.Reader\",Ol);\nOl.prototype.Qg=function(a){var b,c,d,e,f;try{if(b=\"string\"===typeof a?JSON.parse(a):a,\"object\"===typeof b){c=new Ml(this.Do);switch(b.type){case \"FeatureCollection\":if(f=b.features)for(e=new M,this.cf(e),a=0;a<f.length;a++)d=Pl(f[a]),(d=c.create(d))&&e.k(d);break;case \"Feature\":d=Pl(b);(d=c.create(d))&&this.cf(d);break;default:(d=c.create(b))&&this.cf(d)}this.g(Il.READY)}else this.g(Il.ERROR,void 0,\"Invalid syntax\")}catch(g){this.g(Il.ERROR,void 0,\"Parse error. \"+g.message)}};\nOl.prototype.ux=function(a){this.g(Il.LOADING);this.Qg(a)};Ol.prototype.parseData=Ol.prototype.ux;Ol.prototype.Mb=function(){};function Pl(a){var b,c={};a.geometry&&a.properties&&(b=a.geometry,c.type=b.type,c.properties=a.properties,b.coordinates&&(c.coordinates=b.coordinates),b.geometries&&(c.geometries=b.geometries));return c}Ol.prototype.cf=function(a){this.Pc&&this.Pc.Pb().k(a);this.Pg.push(a);this.g(Il.VISIT,a)};r(\"H.data.buildInfo\",function(){return xi(\"mapsjs-data\",\"0.12.2\",\"7826415\")});\n");
